(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{76433:function(e,t,n){Promise.resolve().then(n.bind(n,69895))},52308:function(e,t,n){"use strict";var r=n(94630),i=n(57437);t.Z=(0,r.Z)((0,i.jsx)("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1"}),"DarkMode")},44403:function(e,t,n){"use strict";var r=n(94630),i=n(57437);t.Z=(0,r.Z)((0,i.jsx)("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5M2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1m18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1M11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1m0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1M5.99 4.58c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41zm12.37 12.37c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0 .39-.39.39-1.03 0-1.41zm1.06-10.96c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0zM7.05 18.36c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0z"}),"LightMode")},82323:function(e,t,n){"use strict";var r=n(94630),i=n(57437);t.Z=(0,r.Z)((0,i.jsx)("path",{d:"M10.3 7.7c-.39.39-.39 1.01 0 1.4l1.9 1.9H3c-.55 0-1 .45-1 1s.45 1 1 1h9.2l-1.9 1.9c-.39.39-.39 1.01 0 1.4s1.01.39 1.4 0l3.59-3.59c.39-.39.39-1.02 0-1.41L11.7 7.7a.984.984 0 0 0-1.4 0M20 19h-7c-.55 0-1 .45-1 1s.45 1 1 1h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-7c-.55 0-1 .45-1 1s.45 1 1 1h7z"}),"LoginRounded")},60906:function(e,t,n){"use strict";var r=n(94630),i=n(57437);t.Z=(0,r.Z)((0,i.jsx)("path",{d:"M12 6.5c2.76 0 5 2.24 5 5 0 .51-.1 1-.24 1.46l3.06 3.06c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l2.17 2.17c.47-.14.96-.24 1.47-.24M2.71 3.16c-.39.39-.39 1.02 0 1.41l1.97 1.97C3.06 7.83 1.77 9.53 1 11.5 2.73 15.89 7 19 12 19c1.52 0 2.97-.3 4.31-.82l2.72 2.72c.39.39 1.02.39 1.41 0s.39-1.02 0-1.41L4.13 3.16c-.39-.39-1.03-.39-1.42 0M12 16.5c-2.76 0-5-2.24-5-5 0-.77.18-1.5.49-2.14l1.57 1.57c-.03.18-.06.37-.06.57 0 1.66 1.34 3 3 3 .2 0 .38-.03.57-.07L14.14 16c-.65.32-1.37.5-2.14.5m2.97-5.33c-.15-1.4-1.25-2.49-2.64-2.64z"}),"VisibilityOffRounded")},80798:function(e,t,n){"use strict";var r=n(94630),i=n(57437);t.Z=(0,r.Z)((0,i.jsx)("path",{d:"M12 4C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4m0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"VisibilityRounded")},99376:function(e,t,n){"use strict";var r=n(35475);n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}})},69895:function(e,t,n){"use strict";n.d(t,{default:function(){return P}});var r=n(57437),i=n(5481),a=n(36164),s=n(55075),o=n(11608),c=n(84673),l=n(25002),d=n(53092),u=n(1958),h=n(13692),x=n(2265),m=n(87349),p=n(73474),g=n(74183);function f(){let[e,t]=x.useState(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.Z,{variant:"plain",color:"primary",onClick:()=>t(!0),children:"Забыли пароль?"}),(0,r.jsx)(m.ZP,{"aria-labelledby":"modal-title","aria-describedby":"modal-desc",open:e,onClose:()=>t(!1),sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,r.jsxs)(g.Z,{color:"primary",size:"lg",variant:"plain",children:[(0,r.jsx)(p.Z,{variant:"plain",sx:{m:1}}),(0,r.jsx)(s.ZP,{component:"h2",id:"modal-title",level:"h4",textColor:"inherit",fontWeight:"lg",mb:1,children:"Уважаемый пользователь!"}),(0,r.jsxs)(s.ZP,{id:"modal-desc",textColor:"text.tertiary",children:["Пожалуйста обратитесь к вашему ",(0,r.jsx)(s.ZP,{color:"primary",variant:"plain",children:"Администратору "})," для получения доступа и получения нового пароля!"]})]})})]})}function y(){let[e,t]=x.useState(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.Z,{variant:"plain",color:"primary",onClick:()=>t(!0),children:"Нажми сюда !"}),(0,r.jsx)(m.ZP,{"aria-labelledby":"modal-title","aria-describedby":"modal-desc",open:e,onClose:()=>t(!1),sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,r.jsxs)(g.Z,{color:"primary",size:"lg",variant:"plain",children:[(0,r.jsx)(p.Z,{variant:"plain",sx:{m:1}}),(0,r.jsx)(s.ZP,{component:"h2",id:"modal-title",level:"h4",textColor:"inherit",fontWeight:"lg",mb:1,children:"Уважаемый новый пользователь!"}),(0,r.jsxs)(s.ZP,{id:"modal-desc",textColor:"text.tertiary",children:["Добро пожаловать в нашу компанию! Сначало надо зарегистрировать вас , чтобы начать работу. Пожалуйста обратитесь к вашему ",(0,r.jsx)(s.ZP,{color:"primary",variant:"plain",children:"РОПу (менеджеру) "})," для получения доступа !"]})]})})]})}var j=n(10915),Z=(0,n(94630).Z)((0,r.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M7 9h10c.55 0 1 .45 1 1s-.45 1-1 1H7c-.55 0-1-.45-1-1s.45-1 1-1m6 5H7c-.55 0-1-.45-1-1s.45-1 1-1h6c.55 0 1 .45 1 1s-.45 1-1 1m4-6H7c-.55 0-1-.45-1-1s.45-1 1-1h10c.55 0 1 .45 1 1s-.45 1-1 1"}),"ChatRounded"),v=n(99376),b=n(15959),C=n(82323),w=n(80798),k=n(60906);function P(){let[e,t]=(0,x.useState)(""),[n,m]=(0,x.useState)(""),[p,g]=(0,x.useState)(!1),[P,S]=x.useState(!1),M=(0,v.useRouter)(),z=async t=>{t.preventDefault();let r=await fetch("".concat("https://euphoria-messenger.uz:4000","/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:e,password:n})});if(201===r.status){let e=await r.json();document.cookie="token=".concat(e.token,"; path=/; max-age=86400"),document.cookie="role=".concat(e.role,"; path=/; max-age=86400"),document.cookie="session=".concat(e.session,"; path=/; max-age=86400"),document.cookie="id=".concat(e.id,"; path=/; max-age=86400"),await (0,b.N5)("access",e.access),"Админ"===e.role?M.replace("/admin"):M.replace("/user")}else g(!0)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Z,{sx:e=>({width:{xs:"100%",md:"50vw"},transition:"background-image var(--Transition-duration), left var(--Transition-duration) !important",transitionDelay:"calc(var(--Transition-duration) + 0.1s)",position:"relative",zIndex:1,display:"flex",justifyContent:"flex-end",backdropFilter:"blur(12px)",backgroundColor:"rgba(255 255 255 / 0.2)",[e.getColorSchemeSelector("dark")]:{backgroundColor:"rgba(25 25 25 / 0.1)"}}),children:(0,r.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"column",minHeight:"100dvh",width:"100%",px:{xs:2,md:4}},children:[(0,r.jsxs)(i.Z,{component:"header",sx:{py:3,display:"flex",justifyContent:"space-between"},children:[(0,r.jsxs)(i.Z,{sx:{gap:2,display:"flex",alignItems:"center"},children:[(0,r.jsx)(a.ZP,{variant:"soft",color:"primary",size:"sm",children:(0,r.jsx)(Z,{})}),(0,r.jsx)(s.ZP,{level:"title-lg",children:"EUPHORIA MESSENGER"})]}),(0,r.jsx)(j.Z,{})]}),(0,r.jsx)(i.Z,{component:"main",sx:{my:"auto",py:2,pb:5,display:"flex",flexDirection:"column",gap:2,width:400,maxWidth:"100%",mx:"auto",borderRadius:"sm","& form":{display:"flex",flexDirection:"column",gap:2},"& .MuiFormLabel-asterisk":{visibility:"hidden"}},children:(0,r.jsxs)("form",{onSubmit:z,children:[(0,r.jsx)(o.Z,{gap:4,sx:{mb:2},children:(0,r.jsxs)(o.Z,{gap:1,children:[(0,r.jsx)(s.ZP,{component:"h1",level:"h3",children:"Войти в аккаунт"}),(0,r.jsxs)(s.ZP,{level:"body-sm",children:["Новенький в компании?",(0,r.jsx)(y,{})]})]})}),(0,r.jsxs)(o.Z,{gap:4,sx:{mt:2},children:[(0,r.jsxs)(c.Z,{required:!0,children:[(0,r.jsx)(l.Z,{children:"Логин"}),(0,r.jsx)(d.ZP,{type:"text",name:"login",value:e,onChange:e=>t(e.target.value),endDecorator:(0,r.jsx)(C.Z,{})})]}),(0,r.jsxs)(c.Z,{required:!0,children:[(0,r.jsx)(l.Z,{children:"Пароль"}),(0,r.jsx)(d.ZP,{name:"password",value:n,onChange:e=>m(e.target.value),type:P?"text":"password",required:!0,endDecorator:(0,r.jsx)(a.ZP,{variant:"plain","aria-label":P?"hide password":"show password",color:"neutral",size:"sm",onClick:()=>{S(!P)},children:P?(0,r.jsx)(w.Z,{}):(0,r.jsx)(k.Z,{})})})]}),(0,r.jsxs)(o.Z,{gap:4,sx:{mt:2},children:[(0,r.jsx)(u.Z,{fullWidth:!0,type:"submit",children:"Войти"}),(0,r.jsx)(i.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,r.jsx)(f,{})})]}),(0,r.jsx)(h.Z,{open:p,anchorOrigin:{vertical:"top",horizontal:"center"},color:"danger",variant:"soft",autoHideDuration:5e3,onClose:()=>g(!1),size:"md",children:""===e||""===n?"Заполните все поля !":"Неверный логин или пароль"})]})]})}),(0,r.jsx)(i.Z,{component:"footer",sx:{py:3},children:(0,r.jsxs)(s.ZP,{level:"body-xs",textAlign:"center",children:["\xa9 ","PHOENIX GROUP"," ",new Date().getFullYear()]})})]})}),(0,r.jsx)(i.Z,{sx:e=>({height:"100%",position:"fixed",right:0,top:0,bottom:0,left:{xs:0,md:"50vw"},transition:"background-image var(--Transition-duration), left var(--Transition-duration) !important",transitionDelay:"calc(var(--Transition-duration) + 0.1s)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundImage:"url(images/euphoria-logo.webp)",[e.getColorSchemeSelector("dark")]:{backgroundImage:"url(images/euphoria-logo-dark.webp)"}})})]})}},10915:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(57437),i=n(2265),a=n(80670),s=n(36164),o=n(52308),c=n(44403);function l(e){let{onClick:t,sx:n,...l}=e,{mode:d,setMode:u}=(0,a.tv)(),[h,x]=i.useState(!1);return(i.useEffect(()=>{x(!0)},[]),h)?(0,r.jsx)(s.ZP,{id:"toggle-mode",size:"sm",variant:"outlined",color:"neutral",...l,onClick:e=>{u("light"===d?"dark":"light"),null==t||t(e)},sx:[...Array.isArray(n)?n:[n]],children:"light"===d?(0,r.jsx)(o.Z,{}):(0,r.jsx)(c.Z,{})}):(0,r.jsx)(s.ZP,{id:"toggle-mode",size:"sm",variant:"outlined",color:"neutral",...l,sx:[...Array.isArray(n)?n:[n]],children:"light"===d?(0,r.jsx)(o.Z,{}):(0,r.jsx)(c.Z,{})})}},15959:function(e,t,n){"use strict";n.d(t,{$J:function(){return d},N5:function(){return o}});let r="zQp3JmO7XhC9WsE4LkZ1RxY8GtV2QwB6";function i(e){return new TextEncoder().encode(e)}async function a(e){var t,n;let r=i(e);return null===(n=crypto)||void 0===n?void 0:null===(t=n.subtle)||void 0===t?void 0:t.importKey("raw",r,{name:"AES-GCM"},!1,["encrypt","decrypt"])}async function s(e){let t=await a(r),n=crypto.getRandomValues(new Uint8Array(12)),s=await crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,i(e)),o=new Uint8Array(n.length+s.byteLength);return o.set(n,0),o.set(new Uint8Array(s),n.length),btoa(String.fromCharCode(...o))}async function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:86400,r=JSON.stringify(t),i=await s(r);document.cookie="".concat(e,"=").concat(i,"; path=/; max-age=").concat(n)}async function c(e){try{var t;let n=await a(r),i=Uint8Array.from(atob(e),e=>e.charCodeAt(0)),s=i.slice(0,12),o=i.slice(12);return t=await crypto.subtle.decrypt({name:"AES-GCM",iv:s},n,o),new TextDecoder().decode(t)}catch(e){return console.error("Error decrypting data:",e),null}}async function l(e){let t=document.cookie.split(";").find(t=>t.trim().startsWith("".concat(e,"=")));if(!t)return null;let n=t.split("=")[1],r=await c(n);return r?JSON.parse(r):null}let d=async(e,t)=>{try{let n=await l("access");t(!!n&&n[e])}catch(e){console.error("Ошибка при получении доступа:",e),t(!1)}}}},function(e){e.O(0,[420,630,971,117,744],function(){return e(e.s=76433)}),_N_E=e.O()}]);