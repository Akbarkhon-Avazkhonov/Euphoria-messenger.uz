(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[56],{99733:function(e,t,s){Promise.resolve().then(s.bind(s,60529)),Promise.resolve().then(s.bind(s,86443)),Promise.resolve().then(s.bind(s,36342))},29886:function(e,t,s){"use strict";var n=s(94630),i=s(57437);t.Z=(0,n.Z)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},18947:function(e,t,s){"use strict";var n=s(94630),i=s(57437);t.Z=(0,n.Z)((0,i.jsx)("path",{d:"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1q-.15.15-.15.36M20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"EditRounded")},90741:function(e,t,s){"use strict";var n=s(94630),i=s(57437);t.Z=(0,n.Z)((0,i.jsx)("path",{d:"M22 9V8c0-.55-.45-1-1-1s-1 .45-1 1v1h-1c-.55 0-1 .45-1 1s.45 1 1 1h1v1c0 .55.45 1 1 1s1-.45 1-1v-1h1c.55 0 1-.45 1-1s-.45-1-1-1zM8 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4m4.51-8.95C13.43 5.11 14 6.49 14 8s-.57 2.89-1.49 3.95C14.47 11.7 16 10.04 16 8s-1.53-3.7-3.49-3.95m4.02 9.78C17.42 14.66 18 15.7 18 17v3h2v-3c0-1.45-1.59-2.51-3.47-3.17"}),"GroupAddRounded")},80593:function(e,t,s){"use strict";var n=s(94630),i=s(57437);t.Z=(0,n.Z)((0,i.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"RemoveRedEyeRounded")},20073:function(e,t,s){"use strict";var n=s(94630),i=s(57437);t.Z=(0,n.Z)((0,i.jsx)("path",{d:"M19.5 12c0-.23-.01-.45-.03-.68l1.86-1.41c.4-.3.51-.86.26-1.3l-1.87-3.23c-.25-.44-.79-.62-1.25-.42l-2.15.91c-.37-.26-.76-.49-1.17-.68l-.29-2.31c-.06-.5-.49-.88-.99-.88h-3.73c-.51 0-.94.38-1 .88l-.29 2.31c-.41.19-.8.42-1.17.68l-2.15-.91c-.46-.2-1-.02-1.25.42L2.41 8.62c-.25.44-.14.99.26 1.3l1.86 1.41c-.02.22-.03.44-.03.67s.01.45.03.68l-1.86 1.41c-.4.3-.51.86-.26 1.3l1.87 3.23c.25.44.79.62 1.25.42l2.15-.91c.37.26.76.49 1.17.68l.29 2.31c.06.5.49.88.99.88h3.73c.5 0 .93-.38.99-.88l.29-2.31c.41-.19.8-.42 1.17-.68l2.15.91c.46.2 1 .02 1.25-.42l1.87-3.23c.25-.44.14-.99-.26-1.3l-1.86-1.41c.03-.23.04-.45.04-.68m-7.46 3.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5"}),"SettingsRounded")},86443:function(e,t,s){"use strict";s.d(t,{default:function(){return j}});var n=s(57437),i=s(2265),r=s(1958),l=s(25002),c=s(87349),a=s(74183),d=s(18154),o=s(11608),x=s(29886),h=s(90741),u=s(49048);async function p(e,t){return encodeURIComponent(window.document.cookie),await fetch("".concat("https://euphoria-messenger.uz:4000","/groups/create"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:e,description:t})})}function j(){let[e,t]=i.useState(!1),[s,j]=i.useState(""),[Z,m]=i.useState("");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.Z,{startDecorator:(0,n.jsx)(x.Z,{}),onClick:()=>t(!0),size:"sm",children:"Добавить"}),(0,n.jsx)(c.ZP,{open:e,onClose:()=>t(!1),children:(0,n.jsxs)(a.Z,{sx:{maxWidth:{xs:"94%",sm:"400px"},width:"100%",overflowY:"auto"},children:[(0,n.jsxs)(d.Z,{children:["Новая группа",(0,n.jsx)(h.Z,{sx:{fontSize:24},color:"primary"})]}),(0,n.jsxs)(o.Z,{spacing:2,children:[(0,n.jsx)(l.Z,{required:!0,children:"Название"}),(0,n.jsx)(u.Z,{autoFocus:!0,required:!0,onChange:e=>j(e.target.value)}),(0,n.jsx)(l.Z,{required:!0,children:"Описание"}),(0,n.jsx)(u.Z,{required:!0,onChange:e=>m(e.target.value)}),(0,n.jsx)(r.Z,{type:"submit",size:"sm",onClick:e=>{e.preventDefault(),p(s,Z).then(()=>{t(!1)}),window.location.reload()},children:"Добавить"})]})]})})]})}},36342:function(e,t,s){"use strict";s.d(t,{default:function(){return q}});var n=s(57437),i=s(2265),r=s(5481),l=s(1958),c=s(84673),a=s(53092),d=s(71779),o=s(66500),x=s(36164),h=s(55075),u=s(79335),p=s(32271),j=s(80593),Z=s(96703),m=s(64233),g=s(20073),f=s(12428),v=s(59456),C=s(36766),y=s(34641),b=s(23345),w=s(27648),k=s(25002),z=s(87349),S=s(74183),P=s(18154),T=s(11608),F=s(90741),A=s(49048),I=s(18947);async function R(e,t,s){return encodeURIComponent(window.document.cookie),await fetch("".concat("https://euphoria-messenger.uz:4000","/groups/update/").concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:t,description:s})})}function D(e){let[t,s]=i.useState(!1),[r,c]=i.useState(e.title),[a,d]=i.useState(e.description);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x.ZP,{size:"sm",color:"primary",onClick:()=>s(!0),children:(0,n.jsx)(I.Z,{})}),(0,n.jsx)(z.ZP,{open:t,onClose:()=>s(!1),children:(0,n.jsxs)(S.Z,{sx:{maxWidth:{xs:"94%",sm:"400px"},width:"100%",overflowY:"auto"},children:[(0,n.jsxs)(P.Z,{children:["Изменить группа",(0,n.jsx)(F.Z,{sx:{fontSize:24},color:"primary"})]}),(0,n.jsxs)(T.Z,{spacing:2,children:[(0,n.jsx)(k.Z,{required:!0,children:"Название"}),(0,n.jsx)(A.Z,{value:r,autoFocus:!0,required:!0,onChange:e=>c(e.target.value)}),(0,n.jsx)(k.Z,{required:!0,children:"Описание"}),(0,n.jsx)(A.Z,{value:a,required:!0,onChange:e=>d(e.target.value)}),(0,n.jsx)(l.Z,{type:"submit",size:"sm",onClick:t=>{t.preventDefault(),R(e.group_id,r,a).then(()=>{s(!1)}),window.location.reload()},children:"Изменить"})]})]})})]})}var M=s(75339);function q(e){let{groups:t}=e,[s,k]=(0,i.useState)(""),[z,S]=(0,i.useState)(t),[P,T]=(0,i.useState)(1),[F,A]=(0,i.useState)(10),[I,R]=(0,i.useState)("asc"),q=e=>{T(e)},N=Math.max(1,Math.ceil((z?z.length:1)/F));return i.useEffect(()=>{fetch("".concat("https://euphoria-messenger.uz:4000","/users/getRops"),{credentials:"include"}).then(e=>e.json()).then(e=>{S(e.data)})},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.Z,{className:"SearchAndFilters-tabletUp",sx:{borderRadius:"sm",py:2,display:{xs:"none",sm:"flex"},flexWrap:"wrap",gap:1.5,"& > *":{minWidth:{xs:"120px",md:"160px"}}},children:(0,n.jsx)(c.Z,{sx:{flex:1},size:"sm",children:(0,n.jsx)(a.ZP,{size:"sm",placeholder:"Поиск группы",startDecorator:(0,n.jsx)(u.Z,{}),value:s,onChange:e=>{let t=e.target.value.toLowerCase();k(t),S(z.filter(e=>e.name.toLowerCase().includes(t)||e.login.toLowerCase().includes(t)||e.phoneNumber.toLowerCase().includes(t))),T(1)}})})}),(0,n.jsx)(o.Z,{className:"OrderTableContainer",variant:"outlined",sx:{display:{xs:"none",sm:"initial"},width:"100%",borderRadius:"sm",flexShrink:1,overflow:"auto",minHeight:0},children:(0,n.jsxs)(d.Z,{"aria-labelledby":"tableTitle",stickyHeader:!0,stickyFooter:!0,hoverRow:!0,sx:{"--TableCell-headBackground":"var(--joy-palette-background-level1)","--Table-headerUnderlineThickness":"1px","--TableRow-hoverBackground":"var(--joy-palette-background-level1)","--TableCell-paddingY":"8px","--TableCell-paddingX":"8px"},children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{style:{width:"6%",textAlign:"center",padding:"12px 6px"},children:(0,n.jsx)(f.Z,{})}),(0,n.jsx)("th",{style:{width:200,padding:"16px 6px"},children:(0,n.jsx)(h.ZP,{children:"Название"})}),(0,n.jsx)("th",{style:{width:400,padding:"16px 6px"},children:"Описание"}),(0,n.jsx)("th",{style:{width:"15%",padding:"16px 6px"},children:"Дата создания"}),(0,n.jsx)("th",{style:{width:"6%",padding:"10px 6px",textAlign:"center"},children:(0,n.jsx)(j.Z,{})}),(0,n.jsx)("th",{style:{width:"4%",padding:"10px 6px",textAlign:"center"},children:(0,n.jsx)(g.Z,{})}),(0,n.jsx)("th",{style:{width:"6%",padding:"10px 6px",textAlign:"center"},children:(0,n.jsx)(p.Z,{})})]})}),(0,n.jsx)("tbody",{children:t&&t.map((e,t)=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{style:{textAlign:"center",width:120},children:t+1}),(0,n.jsx)("td",{children:(0,n.jsxs)(r.Z,{sx:{display:"flex",gap:2,alignItems:"center"},children:[(0,n.jsx)(C.Z,{size:"sm",fullname:e.title[0]}),(0,n.jsx)(h.ZP,{level:"body-xs",children:e.title})]})}),(0,n.jsx)("td",{children:(0,n.jsx)(h.ZP,{level:"body-xs",children:e.description})}),(0,n.jsx)("td",{children:(0,n.jsx)(h.ZP,{level:"body-xs",children:e.created_at.slice(0,10)})}),(0,n.jsx)("td",{style:{textAlign:"center"},children:(0,n.jsx)(w.default,{href:"/admin/groups/".concat(e.id,"/").concat(e.title),children:(0,n.jsx)(x.ZP,{size:"sm",color:"primary",children:(0,n.jsx)(j.Z,{})})})}),(0,n.jsx)("td",{style:{textAlign:"center"},children:(0,n.jsx)(D,{group_id:e.id,title:e.title,description:e.description})}),(0,n.jsx)("td",{style:{textAlign:"center"},children:(0,n.jsx)(M.Z,{id:e.id,canDelete:!0,url:"groups/group"})})]},t))})]})}),(0,n.jsxs)(r.Z,{className:"Pagination",sx:{pt:2,gap:1,display:{xs:"none",md:"flex"},justifyContent:"space-between",alignItems:"center",position:"sticky",bottom:0,borderTop:"1px solid #ccc",p:2},children:[(0,n.jsxs)(r.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,n.jsx)(h.ZP,{children:"Показать:"}),(0,n.jsx)(b.Z,{size:"sm",value:F,defaultValue:25,onChange:(e,t)=>{A(parseInt(String(t),10)),T(1)},indicator:(0,n.jsx)(y.Z,{}),sx:{ml:2,minWidth:80},children:[5,10,25,50].map(e=>(0,n.jsx)(v.Z,{value:e,children:e},e))})]}),(0,n.jsxs)(r.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,n.jsx)(l.Z,{size:"sm",variant:"outlined",color:"neutral",startDecorator:(0,n.jsx)(m.Z,{}),onClick:()=>q(P-1),disabled:1===P,children:"До"}),(0,n.jsx)(r.Z,{sx:{mx:2,display:"flex",alignItems:"center",gap:1},children:Array.from({length:N},(e,t)=>t+1).slice(0,10).map(e=>(0,n.jsx)(x.ZP,{size:"sm",variant:e===P?"solid":"outlined",color:"neutral",onClick:()=>q(e),children:e},e))}),(0,n.jsx)(l.Z,{size:"sm",variant:"outlined",color:"neutral",endDecorator:(0,n.jsx)(Z.Z,{}),onClick:()=>q(P+1),disabled:P===N,children:"После"})]})]})]})}},36766:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var n=s(57437);s(2265);var i=s(87505),r=s(18467);let l="abcdefghijklmnopqrstuvwxyzабвгдеёжзийклмнопрстуфхцчшщьыэюя".split(""),c=e=>{let t=e.charCodeAt(0);return"#".concat((16777216+(13*t%200+55<<16)+(37*t%200+55<<8)+(61*t%200+55)).toString(16).slice(1))},a=e=>{let t=parseInt(e.slice(1,3),16);return .2126*t+.7152*parseInt(e.slice(3,5),16)+.0722*parseInt(e.slice(5,7),16)<128};function d(e){let{online:t=!1,fullname:s="",status:d,...o}=e,x=(e=>{if(!e)return"#CCCCCC";let t=e[0].toLowerCase();return l.includes(t)?c(t):"#CCCCCC"})(s),h=a(x)?"#FFFFFF":"#000000";return(0,n.jsx)("div",{children:d?(0,n.jsx)(i.Z,{color:"UserStatusOnline"===d.className?"success":"neutral",variant:t?"solid":"soft",size:"sm",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeInset:"4px 4px",children:(0,n.jsx)(r.Z,{...o,sx:{bgcolor:x,color:h},children:s[0]||""})}):(0,n.jsx)(r.Z,{...o,sx:{bgcolor:x,color:h},children:s[0]||""})})}},75339:function(e,t,s){"use strict";s.d(t,{Z:function(){return v}});var n=s(57437),i=s(2265),r=s(1958),l=s(87349),c=s(36164),a=s(74183),d=s(18154),o=s(23824),x=s(17925),h=s(81630),u=s(98897),p=s(55972),j=s(31469),Z=s(50074),m=s(75186),g=s(2662),f=s(76672);function v(e){let[t,s]=i.useState(!1),[v,C]=i.useState(!1),y=()=>{if(!e.canDelete){m.ZP.error("Нельзя удалить этот элемент");return}s(!0)},b=()=>{fetch("".concat("https://euphoria-messenger.uz:4000","/").concat(e.url,"/").concat(e.id),{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"}}).then(t=>{if(t.ok)return e.deleteCallback?(e.deleteCallback(e.id),m.ZP.success("Успешно удалено"),s(!1)):(m.ZP.success("Успешно удалено"),window.location.reload()),t.json();m.ZP.error("Ошибка при удалении"),window.location.reload()})};return(0,n.jsxs)(n.Fragment,{children:[e.isMaterial?(0,n.jsx)(g.Z,{size:"small",onClick:()=>y(),children:e.canDelete?(0,n.jsx)(f.Z,{}):(0,n.jsx)(Z.Z,{})}):(0,n.jsx)(c.ZP,{size:"sm",color:"danger",onClick:()=>y(),children:e.canDelete?(0,n.jsx)(j.Z,{}):(0,n.jsx)(Z.Z,{})}),(0,n.jsx)(l.ZP,{"aria-labelledby":"modal-title","aria-describedby":"modal-desc",open:t,onClose:()=>s(!1),sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:v?(0,n.jsx)(a.Z,{variant:"outlined",role:"alertdialog",children:(0,n.jsx)(u.Z,{color:"danger",variant:"soft"})}):(0,n.jsxs)(a.Z,{variant:"outlined",role:"alertdialog",color:"danger",children:[(0,n.jsxs)(d.Z,{children:[(0,n.jsx)(p.Z,{}),"Вы уверены, что хотите удалить?"]}),(0,n.jsx)(o.Z,{}),e.dangerText&&(0,n.jsx)(x.Z,{children:e.dangerText}),(0,n.jsxs)(h.Z,{buttonFlex:2,children:[(0,n.jsx)(r.Z,{variant:"solid",color:"danger",onClick:()=>{C(!0),b()},children:"Да"}),(0,n.jsx)(r.Z,{variant:"solid",color:"primary",onClick:()=>s(!1),children:"Нет"})]})]})})]})}}},function(e){e.O(0,[420,529,630,186,657,648,971,117,744],function(){return e(e.s=99733)}),_N_E=e.O()}]);