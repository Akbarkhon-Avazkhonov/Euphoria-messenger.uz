(()=>{var e={};e.id=425,e.ids=[425],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},43200:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>l}),s(89124),s(94564),s(95537),s(90996);var r=s(30170),n=s(45002),i=s(83876),o=s.n(i),a=s(66299),c={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>a[e]);s.d(t,c);let l=["",{children:["admin",{children:["chat",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,89124)),"C:\\Users\\akbar\\Desktop\\messenger\\Euphoria-messenger.uz\\frontend\\src\\app\\admin\\chat\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,94564)),"C:\\Users\\akbar\\Desktop\\messenger\\Euphoria-messenger.uz\\frontend\\src\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,95537)),"C:\\Users\\akbar\\Desktop\\messenger\\Euphoria-messenger.uz\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,90996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\akbar\\Desktop\\messenger\\Euphoria-messenger.uz\\frontend\\src\\app\\admin\\chat\\page.tsx"],u="/admin/chat/page",p={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/admin/chat/page",pathname:"/admin/chat",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},11271:(e,t,s)=>{Promise.resolve().then(s.bind(s,9662)),Promise.resolve().then(s.bind(s,54228))},54228:(e,t,s)=>{"use strict";s.d(t,{default:()=>w});var r=s(97247),n=s(93013),i=s(4872),o=s(65392),a=s(71009),c=s(76617),l=s(28964),d=s.n(l),u=s(86961),p=s(22690),x=s(7413),h=s(76262),m=s(49267),g=s(24833),f=s(14526),j=s(64067),v=s(56464),b=s(78993),k=s(76157),Z=s(17914),y=s(23771),P=s(39269);function q(e){let[t,s]=l.useState(!1),{chats:n,setSelectedChat:i,selectedChatId:o}=e;return(0,r.jsxs)(p.Z,{sx:{borderLeft:"1px solid",borderColor:"divider",height:"100vh",display:"flex",flexDirection:"column"},children:[(0,r.jsxs)(u.Z,{direction:"row",spacing:1,alignItems:"center",justifyContent:"space-between",p:2,pb:1.5,children:[r.jsx(c.ZP,{fontSize:{xs:"md",md:"lg"},component:"h1",fontWeight:"lg",sx:{mr:"auto"},children:"РОПЫ"}),r.jsx(x.ZP,{onClick:()=>{s(!0)},children:r.jsx(y.Z,{})})]}),r.jsx(a.Z,{sx:{px:2,pb:1.5},children:r.jsx(h.ZP,{size:"sm",startDecorator:r.jsx(b.Z,{}),placeholder:"Поиск...","aria-label":"Search"})}),r.jsx(v.Z,{sx:{overflowY:"scroll",flex:1},children:n.map(e=>(0,r.jsxs)(r.Fragment,{children:[r.jsx(m.Z,{children:r.jsx(g.Z,{onClick:()=>i(e),children:r.jsx(f.Z,{children:(0,r.jsxs)(u.Z,{direction:"row",spacing:1.5,children:[r.jsx(k.Z,{fullname:e.name}),(0,r.jsxs)(a.Z,{sx:{flex:1},children:[r.jsx(c.ZP,{level:"title-sm",children:e.name}),r.jsx(c.ZP,{level:"body-sm",children:e.phoneNumber})]}),r.jsx(a.Z,{sx:{lineHeight:1.5,textAlign:"right"},children:r.jsx(c.ZP,{level:"body-xs",display:{xs:"none",md:"block"},noWrap:!0,children:e.role})})]})})})},e.id),r.jsx(j.Z,{sx:{margin:1},inset:"gutter"})]}))}),(0,r.jsxs)(Z.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:t,onClose:()=>s(!1),color:"warning",size:"md",variant:"outlined",invertedColors:!0,children:[r.jsx(P.Z,{}),"В разработке"]})]})}async function C(e){return await fetch(`https://euphoria-messenger.uz:4000/admin/getUserSession/${e}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include",cache:"force-cache"}).then(e=>e.json())}function w(e){let[t,s]=d().useState(null),l=async e=>{let t=await C(e.id);document.cookie=`session=${t.session}; path=/; max-age=86400`,i.socket.disconnect(),i.socket.connect(),s(e)};return(0,r.jsxs)(r.Fragment,{children:[r.jsx(o.Z,{xs:9,children:r.jsx(a.Z,{sx:{display:"flex",minHeight:"100dvh"},children:r.jsx(a.Z,{component:"main",className:"MainContent",sx:{flex:1,display:"flex",alignItems:"center"},children:t?r.jsx(n.default,{socket:i.socket},t.id):r.jsx(a.Z,{sx:{width:"100%",flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:r.jsx(a.Z,{sx:{padding:"10px 20px",borderRadius:"50px",backgroundColor:"background.level2"},children:r.jsx(c.ZP,{sx:{textAlign:"center"},children:"Выберите чат, чтобы начать общение"})})})})})}),r.jsx(o.Z,{xs:3,sx:{height:"100vh"},children:r.jsx(q,{chats:e.chats,selectedChatId:t?.id,setSelectedChat:l})})]})}},89124:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(72051);let n=(0,s(45347).createProxy)(String.raw`C:\Users\akbar\Desktop\messenger\Euphoria-messenger.uz\frontend\src\components\admin\chat\AdminChat.tsx#default`);var i=s(67229),o=s(52845);async function a(e){return await fetch("https://euphoria-messenger.uz:4000/admin/getAllUsers",{method:"GET",headers:{"Content-Type":"application/json",Cookie:"token="+e},credentials:"include",cache:"no-cache"}).then(e=>e.json())}async function c(){let e=(0,o.cookies)(),t=e.get("token")?.value;if(!t)throw Error("Token not found in cookies");let s=await a(t);return r.jsx(i.Grid,{container:!0,sx:{flexGrow:1},children:r.jsx(n,{chats:s})})}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[379,226,173,550,695,242,342,562,13],()=>s(43200));module.exports=r})();