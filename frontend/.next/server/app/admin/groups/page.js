(()=>{var e={};e.id=56,e.ids=[56],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},64043:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>c,routeModule:()=>h,tree:()=>d}),t(19322),t(94564),t(95537),t(90996);var r=t(30170),n=t(45002),i=t(83876),a=t.n(i),l=t(66299),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let d=["",{children:["admin",{children:["groups",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,19322)),"C:\\Users\\akbar\\Desktop\\messenger\\Euphoria-messenger.uz\\frontend\\src\\app\\admin\\groups\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,94564)),"C:\\Users\\akbar\\Desktop\\messenger\\Euphoria-messenger.uz\\frontend\\src\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,95537)),"C:\\Users\\akbar\\Desktop\\messenger\\Euphoria-messenger.uz\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,90996,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\akbar\\Desktop\\messenger\\Euphoria-messenger.uz\\frontend\\src\\app\\admin\\groups\\page.tsx"],x="/admin/groups/page",p={require:t,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/admin/groups/page",pathname:"/admin/groups",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},85177:(e,s,t)=>{Promise.resolve().then(t.bind(t,9662)),Promise.resolve().then(t.bind(t,32778)),Promise.resolve().then(t.bind(t,25985))},36988:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});var r=t(70531),n=t(97247);let i=(0,r.Z)((0,n.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},50313:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});var r=t(70531),n=t(97247);let i=(0,r.Z)((0,n.jsx)("path",{d:"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1q-.15.15-.15.36M20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"EditRounded")},72442:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});var r=t(70531),n=t(97247);let i=(0,r.Z)((0,n.jsx)("path",{d:"M22 9V8c0-.55-.45-1-1-1s-1 .45-1 1v1h-1c-.55 0-1 .45-1 1s.45 1 1 1h1v1c0 .55.45 1 1 1s1-.45 1-1v-1h1c.55 0 1-.45 1-1s-.45-1-1-1zM8 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4m4.51-8.95C13.43 5.11 14 6.49 14 8s-.57 2.89-1.49 3.95C14.47 11.7 16 10.04 16 8s-1.53-3.7-3.49-3.95m4.02 9.78C17.42 14.66 18 15.7 18 17v3h2v-3c0-1.45-1.59-2.51-3.47-3.17"}),"GroupAddRounded")},24815:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});var r=t(70531),n=t(97247);let i=(0,r.Z)((0,n.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"RemoveRedEyeRounded")},35680:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});var r=t(70531),n=t(97247);let i=(0,r.Z)((0,n.jsx)("path",{d:"M19.5 12c0-.23-.01-.45-.03-.68l1.86-1.41c.4-.3.51-.86.26-1.3l-1.87-3.23c-.25-.44-.79-.62-1.25-.42l-2.15.91c-.37-.26-.76-.49-1.17-.68l-.29-2.31c-.06-.5-.49-.88-.99-.88h-3.73c-.51 0-.94.38-1 .88l-.29 2.31c-.41.19-.8.42-1.17.68l-2.15-.91c-.46-.2-1-.02-1.25.42L2.41 8.62c-.25.44-.14.99.26 1.3l1.86 1.41c-.02.22-.03.44-.03.67s.01.45.03.68l-1.86 1.41c-.4.3-.51.86-.26 1.3l1.87 3.23c.25.44.79.62 1.25.42l2.15-.91c.37.26.76.49 1.17.68l.29 2.31c.06.5.49.88.99.88h3.73c.5 0 .93-.38.99-.88l.29-2.31c.41-.19.8-.42 1.17-.68l2.15.91c.46.2 1 .02 1.25-.42l1.87-3.23c.25-.44.14-.99-.26-1.3l-1.86-1.41c.03-.23.04-.45.04-.68m-7.46 3.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5"}),"SettingsRounded")},32778:(e,s,t)=>{"use strict";t.d(s,{default:()=>m});var r=t(97247),n=t(28964),i=t(38833),a=t(33453),l=t(32088),o=t(55116),d=t(26339),c=t(86961),x=t(36988),p=t(72442),h=t(8133);async function u(e,s){return encodeURIComponent(window.document.cookie),await fetch("https://euphoria-messenger.uz:4000/groups/create",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:e,description:s})})}function m(){let[e,s]=n.useState(!1),[t,m]=n.useState(""),[g,j]=n.useState("");return(0,r.jsxs)(r.Fragment,{children:[r.jsx(i.Z,{startDecorator:r.jsx(x.Z,{}),onClick:()=>s(!0),size:"sm",children:"Добавить"}),r.jsx(l.ZP,{open:e,onClose:()=>s(!1),children:(0,r.jsxs)(o.Z,{sx:{maxWidth:{xs:"94%",sm:"400px"},width:"100%",overflowY:"auto"},children:[(0,r.jsxs)(d.Z,{children:["Новая группа",r.jsx(p.Z,{sx:{fontSize:24},color:"primary"})]}),(0,r.jsxs)(c.Z,{spacing:2,children:[r.jsx(a.Z,{required:!0,children:"Название"}),r.jsx(h.Z,{autoFocus:!0,required:!0,onChange:e=>m(e.target.value)}),r.jsx(a.Z,{required:!0,children:"Описание"}),r.jsx(h.Z,{required:!0,onChange:e=>j(e.target.value)}),r.jsx(i.Z,{type:"submit",size:"sm",onClick:e=>{e.preventDefault(),u(t,g).then(()=>{s(!1)}),window.location.reload()},children:"Добавить"})]})]})})]})}},25985:(e,s,t)=>{"use strict";t.d(s,{default:()=>R});var r=t(97247),n=t(28964),i=t(71009),a=t(38833),l=t(93665),o=t(76262),d=t(9290),c=t(22690),x=t(7413),p=t(76617),h=t(61272),u=t(86606),m=t(24815),g=t(51e3),j=t(8971),Z=t(35680),v=t(65646),f=t(97242),y=t(76157),b=t(92946),C=t(61441),w=t(79906),k=t(33453),P=t(32088),z=t(55116),S=t(26339),T=t(86961),D=t(72442),q=t(8133),A=t(50313);async function E(e,s,t){return encodeURIComponent(window.document.cookie),await fetch(`https://euphoria-messenger.uz:4000/groups/update/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:s,description:t})})}function _(e){let[s,t]=n.useState(!1),[i,l]=n.useState(e.title),[o,d]=n.useState(e.description);return(0,r.jsxs)(r.Fragment,{children:[r.jsx(x.ZP,{size:"sm",color:"primary",onClick:()=>t(!0),children:r.jsx(A.Z,{})}),r.jsx(P.ZP,{open:s,onClose:()=>t(!1),children:(0,r.jsxs)(z.Z,{sx:{maxWidth:{xs:"94%",sm:"400px"},width:"100%",overflowY:"auto"},children:[(0,r.jsxs)(S.Z,{children:["Изменить группа",r.jsx(D.Z,{sx:{fontSize:24},color:"primary"})]}),(0,r.jsxs)(T.Z,{spacing:2,children:[r.jsx(k.Z,{required:!0,children:"Название"}),r.jsx(q.Z,{value:i,autoFocus:!0,required:!0,onChange:e=>l(e.target.value)}),r.jsx(k.Z,{required:!0,children:"Описание"}),r.jsx(q.Z,{value:o,required:!0,onChange:e=>d(e.target.value)}),r.jsx(a.Z,{type:"submit",size:"sm",onClick:s=>{s.preventDefault(),E(e.group_id,i,o).then(()=>{t(!1)}),window.location.reload()},children:"Изменить"})]})]})})]})}var M=t(78757);function R({groups:e}){let[s,t]=(0,n.useState)(""),[k,P]=(0,n.useState)(e),[z,S]=(0,n.useState)(1),[T,D]=(0,n.useState)(10),[q,A]=(0,n.useState)("asc"),E=e=>{S(e)},R=Math.max(1,Math.ceil((k?k.length:1)/T));return n.useEffect(()=>{fetch("https://euphoria-messenger.uz:4000/users/getRops",{credentials:"include"}).then(e=>e.json()).then(e=>{P(e.data)})},[]),(0,r.jsxs)(r.Fragment,{children:[r.jsx(i.Z,{className:"SearchAndFilters-tabletUp",sx:{borderRadius:"sm",py:2,display:{xs:"none",sm:"flex"},flexWrap:"wrap",gap:1.5,"& > *":{minWidth:{xs:"120px",md:"160px"}}},children:r.jsx(l.Z,{sx:{flex:1},size:"sm",children:r.jsx(o.ZP,{size:"sm",placeholder:"Поиск группы",startDecorator:r.jsx(h.Z,{}),value:s,onChange:e=>{let s=e.target.value.toLowerCase();t(s),P(k.filter(e=>e.name.toLowerCase().includes(s)||e.login.toLowerCase().includes(s)||e.phoneNumber.toLowerCase().includes(s))),S(1)}})})}),r.jsx(c.Z,{className:"OrderTableContainer",variant:"outlined",sx:{display:{xs:"none",sm:"initial"},width:"100%",borderRadius:"sm",flexShrink:1,overflow:"auto",minHeight:0},children:(0,r.jsxs)(d.Z,{"aria-labelledby":"tableTitle",stickyHeader:!0,stickyFooter:!0,hoverRow:!0,sx:{"--TableCell-headBackground":"var(--joy-palette-background-level1)","--Table-headerUnderlineThickness":"1px","--TableRow-hoverBackground":"var(--joy-palette-background-level1)","--TableCell-paddingY":"8px","--TableCell-paddingX":"8px"},children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{children:[r.jsx("th",{style:{width:"6%",textAlign:"center",padding:"12px 6px"},children:r.jsx(v.Z,{})}),r.jsx("th",{style:{width:200,padding:"16px 6px"},children:r.jsx(p.ZP,{children:"Название"})}),r.jsx("th",{style:{width:400,padding:"16px 6px"},children:"Описание"}),r.jsx("th",{style:{width:"15%",padding:"16px 6px"},children:"Дата создания"}),r.jsx("th",{style:{width:"6%",padding:"10px 6px",textAlign:"center"},children:r.jsx(m.Z,{})}),r.jsx("th",{style:{width:"4%",padding:"10px 6px",textAlign:"center"},children:r.jsx(Z.Z,{})}),r.jsx("th",{style:{width:"6%",padding:"10px 6px",textAlign:"center"},children:r.jsx(u.Z,{})})]})}),r.jsx("tbody",{children:e&&e.map((e,s)=>(0,r.jsxs)("tr",{children:[r.jsx("td",{style:{textAlign:"center",width:120},children:s+1}),r.jsx("td",{children:(0,r.jsxs)(i.Z,{sx:{display:"flex",gap:2,alignItems:"center"},children:[r.jsx(y.Z,{size:"sm",fullname:e.title[0]}),r.jsx(p.ZP,{level:"body-xs",children:e.title})]})}),r.jsx("td",{children:r.jsx(p.ZP,{level:"body-xs",children:e.description})}),r.jsx("td",{children:r.jsx(p.ZP,{level:"body-xs",children:e.created_at.slice(0,10)})}),r.jsx("td",{style:{textAlign:"center"},children:r.jsx(w.default,{href:`/admin/groups/${e.id}/${e.title}`,children:r.jsx(x.ZP,{size:"sm",color:"primary",children:r.jsx(m.Z,{})})})}),r.jsx("td",{style:{textAlign:"center"},children:r.jsx(_,{group_id:e.id,title:e.title,description:e.description})}),r.jsx("td",{style:{textAlign:"center"},children:r.jsx(M.Z,{id:e.id,canDelete:!0,url:"groups/group"})})]},s))})]})}),(0,r.jsxs)(i.Z,{className:"Pagination",sx:{pt:2,gap:1,display:{xs:"none",md:"flex"},justifyContent:"space-between",alignItems:"center",position:"sticky",bottom:0,borderTop:"1px solid #ccc",p:2},children:[(0,r.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(p.ZP,{children:"Показать:"}),r.jsx(C.Z,{size:"sm",value:T,defaultValue:25,onChange:(e,s)=>{D(parseInt(String(s),10)),S(1)},indicator:r.jsx(b.Z,{}),sx:{ml:2,minWidth:80},children:[5,10,25,50].map(e=>r.jsx(f.Z,{value:e,children:e},e))})]}),(0,r.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(a.Z,{size:"sm",variant:"outlined",color:"neutral",startDecorator:r.jsx(j.Z,{}),onClick:()=>E(z-1),disabled:1===z,children:"До"}),r.jsx(i.Z,{sx:{mx:2,display:"flex",alignItems:"center",gap:1},children:Array.from({length:R},(e,s)=>s+1).slice(0,10).map(e=>r.jsx(x.ZP,{size:"sm",variant:e===z?"solid":"outlined",color:"neutral",onClick:()=>E(e),children:e},e))}),r.jsx(a.Z,{size:"sm",variant:"outlined",color:"neutral",endDecorator:r.jsx(g.Z,{}),onClick:()=>E(z+1),disabled:z===R,children:"После"})]})]})]})}},78757:(e,s,t)=>{"use strict";t.d(s,{Z:()=>f});var r=t(97247),n=t(28964),i=t(38833),a=t(32088),l=t(7413),o=t(55116),d=t(26339),c=t(90693),x=t(94504),p=t(65441),h=t(95498),u=t(8882),m=t(34113),g=t(47058),j=t(72411),Z=t(82076),v=t(6055);function f(e){let[s,t]=n.useState(!1),[f,y]=n.useState(!1),b=()=>{if(!e.canDelete){j.ZP.error("Нельзя удалить этот элемент");return}t(!0)},C=()=>{fetch(`https://euphoria-messenger.uz:4000/${e.url}/${e.id}`,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"}}).then(s=>{if(s.ok)return e.deleteCallback?(e.deleteCallback(e.id),j.ZP.success("Успешно удалено"),t(!1)):(j.ZP.success("Успешно удалено"),window.location.reload()),s.json();j.ZP.error("Ошибка при удалении"),window.location.reload()})};return(0,r.jsxs)(r.Fragment,{children:[e.isMaterial?r.jsx(Z.Z,{size:"small",onClick:()=>b(),children:e.canDelete?r.jsx(v.Z,{}):r.jsx(g.Z,{})}):r.jsx(l.ZP,{size:"sm",color:"danger",onClick:()=>b(),children:e.canDelete?r.jsx(m.Z,{}):r.jsx(g.Z,{})}),r.jsx(a.ZP,{"aria-labelledby":"modal-title","aria-describedby":"modal-desc",open:s,onClose:()=>t(!1),sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:f?r.jsx(o.Z,{variant:"outlined",role:"alertdialog",children:r.jsx(h.Z,{color:"danger",variant:"soft"})}):(0,r.jsxs)(o.Z,{variant:"outlined",role:"alertdialog",color:"danger",children:[(0,r.jsxs)(d.Z,{children:[r.jsx(u.Z,{}),"Вы уверены, что хотите удалить?"]}),r.jsx(c.Z,{}),e.dangerText&&r.jsx(x.Z,{children:e.dangerText}),(0,r.jsxs)(p.Z,{buttonFlex:2,children:[r.jsx(i.Z,{variant:"solid",color:"danger",onClick:()=>{y(!0),C()},children:"Да"}),r.jsx(i.Z,{variant:"solid",color:"primary",onClick:()=>t(!1),children:"Нет"})]})]})})]})}},19322:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var r=t(72051),n=t(67229),i=t(52845),a=t(45347);let l=(0,a.createProxy)(String.raw`C:\Users\akbar\Desktop\messenger\Euphoria-messenger.uz\frontend\src\components\admin\groups\GroupsTable.tsx#default`),o=(0,a.createProxy)(String.raw`C:\Users\akbar\Desktop\messenger\Euphoria-messenger.uz\frontend\src\components\admin\groups\AddGroup.tsx#default`);async function d(e){return await fetch("https://euphoria-messenger.uz:4000/groups/all",{method:"GET",headers:{"Content-Type":"application/json",Cookie:"token="+e},credentials:"include",cache:"no-cache"}).then(e=>e.json())}async function c(){let e=(0,i.cookies)(),s=e.get("token")?.value;if(!s)throw Error("Token not found in cookies");let t=await d(s);return(0,r.jsxs)(n.Box,{component:"main",className:"MainContent",sx:{px:{xs:2,md:6},pt:{xs:"calc(12px + var(--Header-height))",sm:"calc(12px + var(--Header-height))",md:3},pb:{xs:2,sm:2,md:3},flex:1,display:"flex",flexDirection:"column",minWidth:0,height:"100dvh",gap:1},children:[(0,r.jsxs)(n.Box,{sx:{display:"flex",mb:1,gap:1,flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"start",sm:"center"},flexWrap:"wrap",justifyContent:"space-between"},children:[r.jsx(n.Typography,{level:"h2",component:"h1",children:"Все группы"}),r.jsx(o,{})]}),r.jsx(l,{groups:t.data})]})}}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[379,226,173,550,695,203,562],()=>t(64043));module.exports=r})();